<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>gclib: Ubuntu Linux</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="galil_logo_doxygen.bmp"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">gclib
   &#160;<span id="projectnumber">1.37.6</span>
   </div>
   <div id="projectbrief">Communications API for Galil controllers and PLCs</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.svg"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('ubuntu.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Ubuntu Linux </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="md_markdown_ubuntu"></a> </p><h1>Tested versions</h1>
<p>See the <a class="el" href="installation.html">installation</a> page for supported versions.</p>
<h1>Installation</h1>
<dl class="section note"><dt>Note</dt><dd>Adding the <a href="http://galil.com/sw/pub/all/doc/global/html/repositories.html" target="_blank">package repository</a> is a prerequisite to continue.</dd></dl>
<h2>Install</h2>
<h3>Install gclib and gcapsd (recommended)</h3>
<pre class="fragment"># apt install gclib gcapsd
</pre><h2>Uninstall</h2>
<p>If gclib is to be removed from the system, the following commands may be used. </p><pre class="fragment"># apt remove gclib gcapsd
</pre> <h2>Upgrading</h2>
<p>To upgrade gclib to the newest release, use the following command. </p><pre class="fragment"># apt install --only-upgrade gclib gcapsd
</pre> <h2>List All Versions</h2>
<p>Galil keeps older versions of gclib and gcapsd available for users. To list all versions use the following command. </p><pre class="fragment">$ apt-cache madison gclib gcapsd
</pre> <h2>Installing Older Versions</h2>
<dl class="section warning"><dt>Warning</dt><dd>When using gcaps, a compatible pairing of gcaps and gclib must be used. Galil maintains this compatibility with installations and upgrades. Installing GDK will also install compatible versions of gclib and gcaps. When installing older versions manually, it is the user's responsibility to ensure compatible versions.</dd></dl>
<p>Append the desired version's information after the package name. </p><pre class="fragment"># apt install gclib=&lt;version&gt; gcapsd=&lt;version&gt;
</pre> <h3>An Example</h3>
<p>On the developer's machine, gclib is installed with the current version. </p><pre class="fragment">$ sudo apt install gclib gcapsd
</pre><p> After installation, the versions can be queried. </p><pre class="fragment">$ apt list --installed gclib gcapsd
Listing... Done
gcapsd/unknown,now 205-1 amd64 [installed]
gclib/unknown,now 517-1 amd64 [installed]
</pre><p> On the deployment machine, the precise versions can now be specified. </p><pre class="fragment">$ sudo apt install gclib=517-1 gcapsd=205-1
</pre><h1>Serial Ports and USB</h1>
<p>If access to the serial ports or USB (e.g. DMC-4103) is desired through gclib, the following will provide steps to join the correct access group. If using USB, be sure the controller is powered and the usb is plugged in before beginning.</p>
<h2>Determine group with access</h2>
<pre class="fragment">$ ls -l /dev/ttyUSB* /dev/ttyS*
crw-rw----. 1 root dialout   4, 64 Mar  3 16:39 /dev/ttyS0
crw-rw----. 1 root dialout   4, 65 Mar  3 16:39 /dev/ttyS1
crw-rw----. 1 root dialout   4, 66 Mar  3 16:39 /dev/ttyS2
crw-rw----. 1 root dialout   4, 67 Mar  3 16:39 /dev/ttyS3
crw-rw----. 1 root dialout 188,  0 Mar  6 11:08 /dev/ttyUSB0
</pre><p> In the above listing, <b>dialout</b> is the group that needs to be joined. <b>uucp</b> is another common group that may be listed.</p>
<h2>Add the desired <em>username</em> to the group.</h2>
<pre class="fragment">$ sudo gpasswd -a username dialout
[sudo] password for username: 
Adding user username to group dialout
</pre><p> Log out and back in for change to take effect. </p><pre class="fragment">$ groups
username wheel dialout
</pre><p> gclib can now connect to serial and usb devices from user <em>username</em>.</p>
<h1>PCI Controllers</h1>
<p>If using a Galil PCI controller, the PCI driver must be installed.</p>
<h2>Extract source and build driver</h2>
<pre class="fragment">$ tar -xf /usr/share/doc/gclib/src/gclib_pci.tar.gz
$ make
</pre> <h2>Copy module and add to kernel</h2>
<pre class="fragment">$ sudo cp galilpci.ko /lib/modules/$(uname -r)
$ sudo depmod
$ sudo modprobe galilpci
</pre> <h2>Add galil group for access to PCI</h2>
<pre class="fragment">$ sudo groupadd -f -K GID_MIN=100 -K GID_MAX=499 galil
$ sudo cp 90-galilpci.rules /etc/udev/rules.d/
$ sudo udevadm control --reload-rules
$ sudo udevadm trigger
$ sudo usermod -a -G galil username  #exchange "username" with actual user's name
</pre><p> Logout and back in. The PCI hardware is now available for access. </p><pre class="fragment">$ ls -l /dev/galil*
crw-rw---- 1 root galil 10, 56 Jun  9 11:07 /dev/galilpci0
$ echo -e "\x12\x16\r" &gt; /dev/galilpci0
$ cat /dev/galilpci0 
DMC1846 Rev 1.1a
:
</pre> <h1>Documentation</h1>
<p>The documentation is left as a tarball to minimize disk usage. The latest release version of the user manual is available at the following link.</p><ul>
<li><a href="http://www.galil.com/sw/pub/all/doc/gclib/html/">http://www.galil.com/sw/pub/all/doc/gclib/html/</a></li>
</ul>
<h2>Offline html</h2>
<p>The following allows viewing of the html docs from the installation. </p><pre class="fragment">$ tar -xzf /usr/share/doc/gclib/gclib_doc.tar.gz html
$ firefox html/index.html
</pre> </div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.6-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
	<li class="footer">Generated by <a href="http://www.galil.com">Galil Motion Control</a></li>
     <!--<li class="footer">Generated by
   <a href="http://www.doxygen.org/index.html">
     <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.9.1 </li> -->
  </ul>
</div>
</body>
</html>
